
2/5/2026
2/6/2026
Saturday
Mohak
+971 58 590 3850
Brother, match making is the primary functionality for the clob
Yes, it is working, but an error occurs. I‚Äôm fixing that. This was also working previously; I tested it. I know matchmaking is the primary functionality.
4:05 PM
Mohak
+971 58 590 3850
You mentioned other than match making all other functionality is complete. I have explained this before, the primary thing which has to be rock solid is match making which included order fulfilment(partial or full), order cancellation etc, with real transfer of tokens. 
We still haven‚Äôt been able to test all of it yet. UI fixes, additionally features etc we can cover in next milestone but the core functionality needs to be tested. Once you have tested it, let us know and then we will test
7:46 PM

üëç
Monday
@~huz  now check match making and  transfer of tokens
8:14 PM
huz
+91 79903 24401
@AHMED I just created an order (ID starting with order-1770‚Ä¶), but the order isnt visible in Buy Orders
Edited9:06 PM
huz
+91 79903 24401
This message couldn't load. Open the message on your phone to view it. Click here to update.
9:06 PM
The order you created (ID starting with order-1770‚Ä¶) is visible in the Buy Orders section it's aggregated at the 0.10 price level along with other orders at the same price, which is standard exchange behavior (similar to Binance).
To make this clearer, we've added a "My" column to the order book. It shows a numbered badge next to any price level where you have orders, so you can instantly see which rows include your orders and how many.
We also improved the order book refresh timing after placing or canceling an order it now waits for Canton to fully commit the transaction before refreshing, so your new orders appear immediately without needing a manual refresh.
10:27 PM
@~huz, did you check?
1:26 AM
huz
+91 79903 24401
@AHMED I did create few orders and are visible too in sell/buy orders ‚ÄúMY‚Äù section, stuck on how can I match any order. Can you give me a sample input which I can use to request a new order which will result in matchmaking
10:54 AM
@AHMED if you are available, can we connect on a call to check the clob?
8:40 PM
Orders are matching but it seems that the tokens are not being transferred
9:06 PM
huz
+91 79903 24401
@AHMED if you are available, can we connect on a call to check the clob?
Yes sure
9:12 PM
huz
+91 79903 24401
@AHMED I did create few orders and are visible too in sell/buy orders ‚ÄúMY‚Äù section, stuck on how can I match any order. Can you give me a sample input which I can use to request a new order which will result in matchmaking
I‚Äôm Im working on it
9:12 PM
huz
+91 79903 24401
You
Yes sure
Connect now?
9:25 PM
huz
+91 79903 24401
Connect now?
Yes
9:34 PM
Are you sharing the meeting link ?
9:36 PM
huz
+91 79903 24401
Give me few mins
9:40 PM

üëç
Theres a power outage in my area, will ping you if it comes back else lets connect in the morning
10:12 PM
huz
+91 79903 24401
Theres a power outage in my area, will ping you if it comes back else lets connect in the morning
Om
10:13 PM
No problem
10:13 PM
huz
+91 79903 24401
Can connect now or if its too late for you then lets connect tomorrow
Edited10:32 PM
huz
+91 79903 24401
Can connect now or if its too late for you then lets connect tomorrow
Connect now
10:38 PM

üëç
huz
+91 79903 24401
Meet
Real-time meetings by Google. Using your browser, share your video, desktop, and presentations with teammates and customers.
meet.google.com
https://meet.google.com/tin-zgtz-mhy
10:40 PM
You deleted this message
10:43 PM
Wednesday
Mohak
+971 58 590 3850
We have tried testing again today:

-The orders are taking around 30 mins to match.
-Once they match, the balances remain unchanged.
11:57 AM
Not sure if we are on right track here. As it‚Äôs not a small bug anymore, it‚Äôs been more than a week and we still don‚Äôt have basic order match making working.
11:58 AM
If there are any limitations, please let us know asap.
11:58 AM
Also, are we using allocations as discussed before? We can‚Äôt see any transfer of tokens on explorer when the order is matched
3:39 PM
30 min match delay: The matching engine executes in 1-2 seconds on the backend. The delay is because the production WebSocket is pointing to localhost instead of the live server so the UI misses real-time updates. This is a config fix.

Balances unchanged: The UI is showing total balance instead of available balance. Backend locks funds correctly but the frontend isn't reflecting it. Display bug ‚Äî fixing now.
No transfers on explorer: We're updating the settlement flow to use the proper allocation-based transfer mechanism so token movements are visible on the explorer.

No fundamental limitations  core matching works. These are config and display issues. Working on all three fixes now.
Edited3:50 PM
Mohak
+971 58 590 3850
Thanks for the update. Please test it once you have fixed these and let us know
4:02 PM
Today
Mohak
+971 58 590 3850
Hi, when will we be able to test the app?
1:01 PM
Hi, you‚Äôll be able to test the app by tomorrow. I‚Äôll share the link once it‚Äôs ready.
Edited2:17 PM
Hi,

I've been debugging the matching issues and found the root problems:
Issue 1: Balances not updating after trades

When an order matches, we're minting new tokens for the buyer but the seller's original CC/CBTC tokens aren't being burned. This causes the total supply to inflate.
We need to know:

Can we programmatically archive/burn Splice Holdings (CC/CBTC)?
Should we integrate with the Transfer Registry you mentioned (http://65.108.40.104:8088)?
Any other preferred method?

Issue 2: No transfer events showing on explorer
The current approach creates new token contracts instead of transferring existing ones. The problem is Canton's Splice Holdings (CC/CBTC) have restrictions in their Daml templates:

assert (lock == None) on Split
assert (lock == None) ‚Ä¶Read more
9:09 PM
@~Mohak @~huz
9:18 PM
Mohak
+971 58 590 3850
How are you minting new tokens?
9:22 PM
Like how can you mint new CBTC and supply to inflate, we don‚Äôt own CBTC contract
9:23 PM
huz
+91 79903 24401
You
Hi,

I've been debugging the matching issues and found the root problems:
Issue 1: Balances not updating after trades

When an order matches, we're minting new tokens for the buyer but the seller's original CC/CBTC tokens aren't being burned. This causes the total supply to inflate.
We need to know:

Can we programmatically archive/burn Splice Holdings (CC/CBTC)?
Should we integrate with the Transfer Registry you mentioned (http://65.108.40.104:8088)?
Any other preferred method?

Issue 2: No transfer events showing on explorer
The current approach creates new token contracts instead of transferring existing ones. The problem is Canton's Splice Holdings (CC/CBTC) have restrictions in their Daml templates:

assert (lock == None) on Split
assert (lock == None) 
Yes, we need to use transfer registry (specific to instrument) to transfer tokens from one party to another.
9:29 PM

üëç
Mohak
+971 58 590 3850
Like how can you mint new CBTC and supply to inflate, we don‚Äôt own CBTC contract
We're creating custom Holding contracts on our own Daml template with the symbol "CBTC" they're IOUs inside our exchange, not real CBTC. We can't mint actual CBTC since we don't own that contract. We need the correct API to transfer real CC/CBTC between parties during settlement.
9:33 PM
huz
+91 79903 24401
You
We're creating custom Holding contracts on our own Daml template with the symbol "CBTC" they're IOUs inside our exchange, not real CBTC. We can't mint actual CBTC since we don't own that contract. We need the correct API to transfer real CC/CBTC between parties during settlement.
We need to use the splice token Holding interface and not custom templates, unless you are inheriting this interface in your template then its fine...


@~huz 
We have confirmed that http://65.108.40.104:8088 is the Scan frontend UI and not a Transfer Registry REST API. The Scan API at /api/scan/v0/ is functioning correctly for discovery purposes.

Could you please clarify the following:

What is the exact API or choice we should call to transfer CC/CBTC between parties during order settlement?
Should we exercise a DAML choice on Splice Holding contracts directly via the Ledger API on port 31539?
Is there a specific transfer factory or pre-approval flow that we should use?
You will need Scan Api for fetching transfer registry, validator-app also exposes this same scan api via /api/validator/v0/scan-proxy but with some restricited routes. You can use either of them, the route for transfer-registry is https://docs.sync.global/app_dev/token_standard/openapi/transfer_instruction.html. 

For example,
To fetch factoryID and context 
/api/validator/v0/scan-proxy/registry/transfer-instruction/v1/transfer-factory



You can check this script for better undertstanding https://github.com/hyperledger-labs/splice/blob/main/token-standard/cli/src/commands/transfer.ts

Or, you can use wallet-sdk for convenience https://docs.digitalasset.com/integrate/devnet/token-standard/index.html#how-do-i-quickly-perform-a-transfer-between-two-parties




Client Share me This :

Hey @AHMED yes cBTC needs to work. If it doesn‚Äôt, the transaction is incomplete and there‚Äôs no reason any user will deposit their CC if they aren‚Äôt getting cBTC back.


Will integrating usdcx will be easy after you figure out cbtc?

Just to confirm, you are using Allocations in matchmaking to resolve settlements between 2 parties

As CBTC is a Utilties Token (CIP-0056), we need to use the utilities backend url (same as you must have used in accepting CBTC tokens).
Can refer to this doc, https://docs.digitalasset.com/utilities/devnet/how-tos/registry/transfer/transfer.html. Heres the Backend API 
${BACKEND_API}/v0/registrars/${ADMIN_PARTY_ID}/registry/transfer-instruction/v1/transfer-factory (this is for transferring of tokens)
BACKEND_API=‚Äúhttps://api.utilities.digitalasset-dev.com/api/utilities‚Äù (for devnet)
ADMIN_PARTY_ID=‚Äúcbtc-network::12202a83c6f4082217c175e29bc53da5f2703ba2675778ab99217a5a881a949203ff‚Äù


The matchmaking is working and is getting settled instantly, but we are not using Allocations to transfer the assets, the transfer of assets is done by TransferInstruction which should not be the case. 
As we are using internal parties in this app, we can create any transfer from the backend and the flow would work fine, but when we will switch to external parties then we would require a signature from user's private key owning the external party to create a TransferInstruction. Hence, we will need to use Allocations, this way we can set sender, receiver and executor beforehand, this will help us settle (using the executor, which will be us) the allocation when there is matching order also include stop loss order functionality

[1:06 PM, 2/17/2026] +91 79903 24401: Hey @AHMED,
The matchmaking is working and is getting settled instantly, but we are not using Allocations to transfer the assets, the transfer of assets is done by TransferInstruction which should not be the case. 

As we are using internal parties in this app, we can create any transfer from the backend and the flow would work fine, but when we will switch to external parties then we would require a signature from user's private key owning the external party to create a TransferInstruction. Hence, we will need to use Allocations, this way we can set sender, receiver and executor beforehand, this will help us settle (using the executor, which will be us) the allocation when there is matching order
[1:36 PM, 2/17/2026] AHMED: What is your OPERATOR_PARTY_ID? (the exchange operator party that will be the executor)
Are the Allocation API endpoints available on your scan proxy? (/registry/allocation-instruction/v1/...)
Does CBTC support Allocations via the Utilities Backend API?
[1:48 PM, 2/17/2026] Konain Bhai: Hey @AHMED,
The matchmaking is working and is getting settled instantly, but we are not using Allocations to transfer the assets, the transfer of assets is done by TransferInstruction which should not be the case. 

As we are using internal parties in this app, we can create any transfer from the backend and the flow would work fine, but when we will switch to external parties then we would require a signature from user's private key owning the external party to create a TransferInstruction. Hence, we will need to use Allocations, this way we can set sender, receiver and executor beforehand, this will help us settle (using the executor, which will be us) the allocation when there is matching order
Hello @~huz 

We acknowledge that the current implementation uses TransferInstruction instead of Allocations for settlement.

We will address this in Milestone 4, which will include:

1. Replacing TransferInstruction with Allocation-based settlement (executor = exchange operator)
2. Migration from internal parties to external wallet parties
3. Full Allocation flow: create at order placement ‚Üí execute at matching ‚Üí withdraw on cancellation

This will ensure the exchange works correctly with external parties and no user signatures are required at settlement time.

We shall proceed with the 4th milestone now.
[1:52 PM, 2/17/2026] +971 58 590 3850: Hi Zoya, to be honest this was part of milestone 2 (core functionality completion) and I missed that. This should be done in this milestone itself. We need to finish all the functionality in this milestone itself. The next milestone is just stop loss order, end to end testing, security audit, UI finishes and polishing.
[1:53 PM, 2/17/2026] Konain Bhai: The functionality is completed, we need to understand this that the core functionality is working, this is the final part which has to be done while final implementation and deployment
[1:53 PM, 2/17/2026] +971 58 590 3850: I didn‚Äôt realise in the milestone 2 that we weren‚Äôt doing any transfer of tokens, rather just changing the text.
[1:54 PM, 2/17/2026] Konain Bhai: This is not something complicated or anything, right now we are only wasting time on going back and forth on this.
The functionality is completed, we need to understand this that the core functionality is working, this is the final part which has to be done while final implementation and deployment
[1:56 PM, 2/17/2026] Konain Bhai: On the development side, we always get bugs while we add on features, so not until all the features including stop loss and everything is deployed, we won‚Äôt know what other bugs we might face, so for that we would need to deploy all the fatures first and then do the debugging.
On the development side, we always get bugs while we add on features, so not until all the features including stop loss and everything is deployed, we won‚Äôt know what other bugs we might face, so for that we would need to deploy all the fatures first and then do the debugging.
[1:58 PM, 2/17/2026] Konain Bhai: 0:36
Exactly, but while we will be deploying the stopp loss feature, it will disrupt this functionality as well.
[1:59 PM, 2/17/2026] Konain Bhai: So we need to proceed with the deployment of all the remaining feature plus this so that we can finally initiate the proper flow
[1:59 PM, 2/17/2026] +971 58 590 3850: Why would it disrupt the functionality? The stop loss is just an automated match making on a specific condition. The transfer of tokens using allocation remains the same there
[2:01 PM, 2/17/2026] +971 58 590 3850: The transfer of tokens in the proper way was supposed to be completed in milestone 2, as that‚Äôs the basic but most important functionality of a clob after match making engine. If it‚Äôs even not completed yet, how will we feel confident that it will be done in milestone?
[2:01 PM, 2/17/2026] +971 58 590 3850: We were told multiple times that it‚Äôs already done. Only during our testing we find out each time that it isn‚Äôt.
[2:06 PM, 2/17/2026] Konain Bhai: I am not sure how to elaborate and explain the issues we might face but right now for us the best resolution is that we implement all the deployment at once which includes 4th milestone too. We are doing that today and then we‚Äôll proceed to the bug fixing part.


[4:42 PM, 2/20/2026] +91 79903 24401: @AHMED, we are using internal parties in the app, we need to shift to external parties.
Internal parties are created from the same namespace keys and hence can be controlled by the validator. External parties are created by private keys outside the validator, ensuring that the user has all the control, every transaction submitted will require signature from this private key which ensure that the transaction was submitted with the authorithy of the owning user
[4:45 PM, 2/20/2026] +91 79903 24401: Please ensure the created party have ‚ÄúConfirmation‚Äù permission
[5:04 PM, 2/20/2026] AHMED: Please ensure the created party have ‚ÄúConfirmation‚Äù permission
Ok
[5:04 PM, 2/20/2026] AHMED: Also share your wallet id
?
[5:15 PM, 2/20/2026] +91 79903 24401: external-wallet-user-cadd0aa928c2a0cf::122087fa379c37332a753379c58e18d397e39cb82c68c15e4af7134be46561974292
[6:29 PM, 2/20/2026] AHMED: @~huz The issue is that the orderbook can't see them due to the 200-element limit on the 273cbc package.
[7:08 PM, 2/20/2026] AHMED: Hey @~huz ,
The orderbook issue is fixed. The problem was a Canton API query limit when there are 200+ Order contracts (including old filled ones), the API blocks the response. I've added user-specific queries that bypass this limit, so your orders will now show up correctly in the orderbook. Please refresh and check.

Also just a heads up  on Canton, every order stays as an active contract on the ledger even after it's FILLED or CANCELLED. Right now there are 200+ old Order contracts sitting there. Would be good to archive the old filled/cancelled ones when you get a chance, just to keep things clean.
[7:09 PM, 2/20/2026] +971 58 590 3850: Are these with external party id now?
[10:21 PM, 2/20/2026] +91 79903 24401: Hey @~huz ,
The orderbook issue is fixed. The problem was a Canton API query limit when there are 200+ Order contracts (including old filled ones), the API blocks the response. I've added user-specific queries that bypass this limit, so your orders will now show up correctly in the orderbook. Please refresh and check.

Also just a heads up  on Canton, every order stays as an active contract on the ledger even after it's FILLED or CANCELLED. Right now there are 200+ old Order contracts sitting there. Would be good to archive the old filled/cancelled ones when you get a chance, just to keep things clean.
@AHMED In production the 200 limit will reach very soon, we need to use ledger-api or web sockets to get stream of data. Also we need to optimise the daml choices in such a way that only useful contracts are in active set and rest are archived‚Ä¶
[10:42 PM, 2/20/2026] AHMED: Are these with external party id now?
Yes
[10:46 PM, 2/20/2026] AHMED: @AHMED In production the 200 limit will reach very soon, we need to use ledger-api or web sockets to get stream of data. Also we need to optimise the daml choices in such a way that only useful contracts are in active set and rest are archived‚Ä¶
Ok
[10:46 PM, 2/20/2026] AHMED: I have switch from internal to external party
[10:47 PM, 2/20/2026] AHMED: Just few changes remain I'm working then I'll push my changes


[5:03 PM, 2/25/2026] AHMED: Hey, we're stuck on one thing right now. The Canton participant node (65.108.40.104) keeps dropping its connection to the global domain synchronizer. When it disconnects, no write operations go through orders can't settle, tokens can't transfer. Everything else is ready matching engine, allocations, external parties, order book all working. We just need a stable connection on the participant. Can you check if something is up with the server or restart the Canton participant process?
[5:04 PM, 2/25/2026] AHMED: @~Mohak @~huz
[5:05 PM, 2/25/2026] +91 79903 24401: Hey, we're stuck on one thing right now. The Canton participant node (65.108.40.104) keeps dropping its connection to the global domain synchronizer. When it disconnects, no write operations go through orders can't settle, tokens can't transfer. Everything else is ready matching engine, allocations, external parties, order book all working. We just need a stable connection on the participant. Can you check if something is up with the server or restart the Canton participant process?
Let me try restarting the participant node
[5:09 PM, 2/25/2026] AHMED: Let me try restarting the participant node
Thanks.
Yes, please restart the participant node. Once it's back up, we‚Äôll test and confirm everything is working.
[5:14 PM, 2/25/2026] +91 79903 24401: Please check now
[5:14 PM, 2/25/2026] AHMED: Please check now
I'll check


@42121079853221 the participant logs are filled with submit commands generating from your partyId 



```
{"@timestamp":"2026-02-25T16:01:21.805Z","message":"Request com.daml.ledger.api.v2.CommandService/SubmitAndWaitForTransaction by inprocess-grpc-5001: failed with NOT_FOUND/CONTRACT_NOT_FOUND(11,1b53657f): Contract could not be found with id 00b0c2587f37a0387f9a0d8be9b1bd8de97bf6d2cd30c7a1f5db44fa7e14ec3375ca121220bbdfa3c57b792ca8181d71d4889936b09f52dc6f514b04c26882f54c50824257","logger_name":"c.d.c.n.g.ApiRequestLogger:participant=participant","thread_name":"canton-env-ec-79","level":"INFO","span-id":"ab3bc99ddce522a8","span-parent-id":"400f127839bf1c5c","trace-id":"a1cb78df399174b26a927d2324863717","span-name":"logger"}
{"@timestamp":"2026-02-25T16:01:21.979Z","message":"Phase 1 started: Submitting 1 command(s) for interpretation on behalf of 8100b2db-86cf-40a1-8351-55483c151cdc::122087fa379c....","logger_name":"c.d.c.p.a.s.c.CommandSubmissionServiceImpl:participant=participant","thread_name":"canton-env-ec-795","level":"INFO","span-id":"3a9928e5dc03e385","span-parent-id":"f176f68142c7f5c1","trace-id":"35dbea24a85c6741e470d33739fe7232","span-name":"StreamTracker.track"}
{"@timestamp":"2026-02-25T16:01:21.983Z","message":"CONTRACT_NOT_FOUND(11,65a07c89): Contract could not be found with id 00b0c2587f37a0387f9a0d8be9b1bd8de97bf6d2cd30c7a1f5db44fa7e14ec3375ca121220bbdfa3c57b792ca8181d71d4889936b09f52dc6f514b04c26882f54c50824257","logger_name":"c.d.c.p.a.s.c.CommandSubmissionServiceImpl:participant=participant","thread_name":"canton-env-ec-795","level":"INFO","trace-id":"35dbea24a85c6741e470d33739fe7232","location":"RejectionGenerators.scala:100","span-id":"3a9928e5dc03e385","error-code":"CONTRACT_NOT_FOUND(11,65a07c89)","span-parent-id":"f176f68142c7f5c1","participant":"'participant'","commands":"{readAs: ['ext-99495cb33b51::1220c98aeed243fe29dfc7d6fda2917e7423388a8cbf8d4946c98be167035c9a00cb'], deduplicationPeriod: {duration: 'PT30S'}, submittedAt: '2026-02-25T16:01:21.979415Z', submissionId: '65a07c89-5181-4ef6-93fb-3870ad76c530', actAs: ['8100b2db-86cf-40a1-8351-55483c151cdc::122087fa379c37332a753379c58e18d397e39cb82c68c15e4af7134be46561974292'], commandId: 'cmd-exercise-8684cef2-ca0b-4bbc-ab41-d9cfb932829f', userId: '652db10c-71a6-458b-baf3-906418723859', workflowId: }","span-name":"StreamTracker.track"}
```

This contract is archived this might be the reason for your error

[5:05 PM, 2/25/2026] +91 79903 24401: Hey, we're stuck on one thing right now. The Canton participant node (65.108.40.104) keeps dropping its connection to the global domain synchronizer. When it disconnects, no write operations go through orders can't settle, tokens can't transfer. Everything else is ready matching engine, allocations, external parties, order book all working. We just need a stable connection on the participant. Can you check if something is up with the server or restart the Canton participant process?
Let me try restarting the participant node
[5:09 PM, 2/25/2026] AHMED: Let me try restarting the participant node
Thanks.
Yes, please restart the participant node. Once it's back up, we‚Äôll test and confirm everything is working.
[5:14 PM, 2/25/2026] +91 79903 24401: Please check now
[5:14 PM, 2/25/2026] AHMED: Please check now
I'll check
[6:32 PM, 2/25/2026] AHMED: Hey @~huz , the participant is still dropping its synchronizer connection. We placed fresh orders, the matching engine detected the match and created the allocation, but settlement fails because the participant is disconnected again. The error shows both the operator AND the external party as "unknownSubmitters" meaning the participant has no active synchronizer connection at all. Can you check why it keeps disconnecting? We need a stable connection for any write operations to go through.
[9:04 PM, 2/25/2026] +91 79903 24401: @AHMED the participant logs are filled with submit commands generating from your partyId 




{"@timestamp":"2026-02-25T16:01:21.805Z","message":"Request com.daml.ledger.api.v2.CommandService/SubmitAndWaitForTransaction by inprocess-grpc-5001: failed with NOT_FOUND/CONTRACT_NOT_FOUND(11,1b53657f): Contract could not be found with id 00b0c2587f37a0387f9a0d8be9b1bd8de97bf6d2cd30c7a1f5db44fa7e14ec3375ca121220bbdfa3c57b792ca8181d71d4889936b09f52dc6f514b04c26882f54c50824257","logger_name":"c.d.c.n.g.ApiRequestLogger:participant=participant","thread_name":"canton-env-ec-79","level":"INFO","span-id":"ab3bc99ddce522a8","span-parent-id":"400f127839bf1c5c","trace-id":"a1cb78df399174b26a927d2324863717","span-name":"logger"}
{"@timestamp":"2026-02-25T16:01:21.9‚Ä¶
[5:45 AM, 2/26/2026] AHMED: Hey Huz, we‚Äôre stuck on one Canton issue that‚Äôs holding up all our settlements and could really use your help.

Here‚Äôs what‚Äôs happening: when we do an interactive submission for Allocation_ExecuteTransfer, we include both the operator party (8100b2db-86cf-40a1-8351-55483c151cdc::122087fa‚Ä¶) and the external party (ext-edded1b16c64::1220de80‚Ä¶) in actAs, and we provide the external party‚Äôs Ed25519 signature. But Canton keeps rejecting it with this error:

FAILED_TO_EXECUTE_TRANSACTION: The following actAs parties did not provide an external signature: 8100b2db-86cf-40a1-8351-55483c151cdc::122087fa‚Ä¶

What‚Äôs confusing us is why isn‚Äôt the operator party auto-signing here? Its key should be hosted on the participant, and in interactive mode Canton is supposed to au‚Ä¶
[11:35 AM, 2/26/2026] +91 79903 24401: Hey Huz, we‚Äôre stuck on one Canton issue that‚Äôs holding up all our settlements and could really use your help.

Here‚Äôs what‚Äôs happening: when we do an interactive submission for Allocation_ExecuteTransfer, we include both the operator party (8100b2db-86cf-40a1-8351-55483c151cdc::122087fa‚Ä¶) and the external party (ext-edded1b16c64::1220de80‚Ä¶) in actAs, and we provide the external party‚Äôs Ed25519 signature. But Canton keeps rejecting it with this error:

FAILED_TO_EXECUTE_TRANSACTION: The following actAs parties did not provide an external signature: 8100b2db-86cf-40a1-8351-55483c151cdc::122087fa‚Ä¶

What‚Äôs confusing us is why isn‚Äôt the operator party auto-signing here? Its key should be hosted on the participant, and in interactive mode Canton is supposed to au
@AHMED 
As the actAs parameter have 2 different parties it needs to have 2 different signature while submitting the transaction, I havent created a multi-sign tx before so dont have much idea on it , check out requestBody in /v2/interactive-submission/execute route, in partySignatures.signatures we can add multiple signatures (can find similar in ledger-api).

But, we can run the choice Allocation_ExecuteTransfer with just the executor if all the other parties in transferleg have already sign the allocation. Also, just want to know in which scenario we would be needing both parties signature?